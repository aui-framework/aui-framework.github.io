<!-- HTML header for doxygen 1.9.1--><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html class="dark-mode" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/xhtml;charset=utf-8" http-equiv="Content-Type"/>
<meta content="noindex" name="robots"/>
<meta content="IE=9" http-equiv="X-UA-Compatible"/>
<meta content="Doxygen 1.13.1" name="generator"/>
<meta content="width=device-width, initial-scale=0.8" name="viewport"/>
<title>AUI Framework: doxygen/intermediate/updater.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet"/>
<script src="jquery.js" type="text/javascript"></script>
<script src="dynsections.js" type="text/javascript"></script>
<script src="toc.js" type="text/javascript"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script src="navtreedata.js" type="text/javascript"></script>
<script src="navtree.js" type="text/javascript"></script>
<script src="resize.js" type="text/javascript"></script>
<script src="cookie.js" type="text/javascript"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script src="search/searchdata.js" type="text/javascript"></script>
<script src="search/search.js" type="text/javascript"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellpadding="0" cellspacing="0">
<tbody>
<tr style="height: 56px;">
<td id="projectlogo"><img alt="Logo" src="logo_doxygen.svg"/></td>
<td id="projectalign" style="padding-left: 0.5em;">
<div id="projectname">AUI Framework
                         <span id="projectnumber">master</span>
</div>
<div id="projectbrief">Cross-platform base for C++ UI apps</div>
</td>
</tr>
</tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script src="menudata.js" type="text/javascript"></script>
<script src="menu.js" type="text/javascript"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="ui-resizable side-nav-resizable" id="side-nav">
<div id="nav-tree">
<div id="nav-tree-contents">
<div class="sync" id="nav-sync"></div>
</div>
</div>
<div class="ui-resizable-handle" id="splitbar" style="-moz-user-select:none;">
</div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('updater_8h_source.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()">
</div>
<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>
<div class="header">
<div class="headertitle"><div class="title">updater.h</div></div>
</div><!--header-->
<div class="contents aui-toc-contents"><div class="contents-rails-left">
<div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span> </div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span> </div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span> </div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">/* !!!!!!!!!!!!!!!! THIS FILE IS AUTOGENERATED !!!!!!!!!!!!!!!! */</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span> </div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span> }; }</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span> *     <a class="code hl_class" href="classAFuture.html">AFuture&lt;void&gt;</a> downloadUpdateImpl(<span class="keyword">const</span> <a class="code hl_class" href="classAPath.html">APath</a>&amp; unpackedUpdateDir)<span class="keyword"> override </span>{ <span class="keywordflow">return</span> <a class="code hl_define" href="group__useful__macros.html#gada84521eeb4bb9ac422d21429806aff3">async</a> { <span class="comment">/* stub */</span> }; }</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span> * };</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span> * </div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span> * <a class="code hl_define" href="group__useful__macros.html#ga9fb2be9313369673815a6892aa7f3a1f">AUI_ENTRY</a> {</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span> *     <span class="keyword">auto</span> updater = _new&lt;MyUpdater&gt;();</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span> *     updater-&gt;handleStartup(args);</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span> * </div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span> *     <span class="comment">// your program routines (i.e., open a window)</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span> *     _new&lt;MainWindow&gt;(updater)-&gt;show();</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span> *     <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span> * }</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span> * <span class="keyword">@end</span>code</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span> * </div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span> * </div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span> * You can pass updater instance to your window (as shown in the example) and display update information from</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span> * `<a class="code hl_variable" href="classAUpdater.html#a1e6e8f3dcd758c1aa6d327102ab46a71">AUpdater::status</a>` and perform the update when requested.</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> * </div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span> * # Observing update progress</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span> * &lt;b aui-src=<span class="stringliteral">"aui.updater/tests/UpdaterTest.cpp#L191"</span>&gt;&lt;/b&gt;</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span> * </div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span> * @copydetails <a class="code hl_variable" href="classAUpdater.html#a1e6e8f3dcd758c1aa6d327102ab46a71">AUpdater::status</a></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span> * </div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span> * # Update process</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span> * &lt;b aui-src=<span class="stringliteral">"aui.updater/tests/UpdaterTest.cpp#L195"</span>&gt;&lt;/b&gt;</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span> * </div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span> * ## Checking <span class="keywordflow">for</span> updates</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span> * &lt;b aui-src=<span class="stringliteral">"aui.updater/tests/UpdaterTest.cpp#L197"</span>&gt;&lt;/b&gt;</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span> * </div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span> * <a class="code hl_class" href="classAUpdater.html">AUpdater</a> expects @ref <a class="code hl_function" href="classAUpdater.html#ad0df1b1eaa58c79f7be6b3b2d4b341f3">AUpdater::checkForUpdates</a> to be called to check <span class="keywordflow">for</span> updates. It can be called once per some</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span> * period of time. It calls user-defined @ref <a class="code hl_function" href="classAUpdater.html#a988e31376a10073a79634a25424701ef">AUpdater::checkForUpdatesImpl</a> to perform an update checking.</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span> * </div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span> * The update steps are reported by changing `<a class="code hl_variable" href="classAUpdater.html#a1e6e8f3dcd758c1aa6d327102ab46a71">AUpdater::status</a>` <span class="keyword">property</span>.</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span> * </div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span> * @msc</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span> * a[label = <span class="stringliteral">"Your App"</span>],</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> * u[label = <span class="stringliteral">"AUpdater"</span>, <a class="code hl_enumvalue" href="group__views.html#gga2795f63a52f7a5f028abc780bf64758fae6b391a8d2c4d45902a23a8b6585703d">URL</a> = <span class="stringliteral">"@ref AUpdater"</span>];</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span> * a -&gt; u [label = <span class="stringliteral">"handleStartup(...)"</span>, <a class="code hl_enumvalue" href="group__views.html#gga2795f63a52f7a5f028abc780bf64758fae6b391a8d2c4d45902a23a8b6585703d">URL</a> = <span class="stringliteral">"@ref AUpdater::handleStartup"</span>];</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span> * a &lt;- u [label = <span class="stringliteral">"status = AUpdater::StatusIdle"</span>, <a class="code hl_enumvalue" href="group__views.html#gga2795f63a52f7a5f028abc780bf64758fae6b391a8d2c4d45902a23a8b6585703d">URL</a> = <span class="stringliteral">"@ref AUpdater::StatusIdle"</span>];</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span> * a &lt;- u [label = <span class="stringliteral">"control flow"</span>];</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span> * </div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span> * --- [label=<span class="stringliteral">"App Normal Lifecycle"</span>];</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span> * ...;</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span> * a -&gt; u [label = <span class="stringliteral">"checkForUpdates()"</span>, <a class="code hl_enumvalue" href="group__views.html#gga2795f63a52f7a5f028abc780bf64758fae6b391a8d2c4d45902a23a8b6585703d">URL</a> = <span class="stringliteral">"@ref AUpdater::checkForUpdates"</span>];</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span> * a &lt;- u [label = <span class="stringliteral">"status = AUpdater::StatusCheckingForUpdates"</span>, <a class="code hl_enumvalue" href="group__views.html#gga2795f63a52f7a5f028abc780bf64758fae6b391a8d2c4d45902a23a8b6585703d">URL</a> = <span class="stringliteral">"@ref AUpdater::StatusCheckingForUpdates"</span>];</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span> * a &lt;- u [label = <span class="stringliteral">"control flow"</span>];</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span> * u box u [label = <span class="stringliteral">"checkForUpdatesImpl()"</span>, <a class="code hl_enumvalue" href="group__views.html#gga2795f63a52f7a5f028abc780bf64758fae6b391a8d2c4d45902a23a8b6585703d">URL</a> = <span class="stringliteral">"@ref AUpdater::checkForUpdatesImpl"</span>];</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span> * a &lt;- u [label = <span class="stringliteral">"status = AUpdater::StatusIdle"</span>, <a class="code hl_enumvalue" href="group__views.html#gga2795f63a52f7a5f028abc780bf64758fae6b391a8d2c4d45902a23a8b6585703d">URL</a> = <span class="stringliteral">"@ref AUpdater::StatusIdle"</span>];</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span> * </div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span> * ...;</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span> * --- [label=<span class="stringliteral">"Update published"</span>];</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span> * ...;</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span> * a -&gt; u [label = <span class="stringliteral">"checkForUpdates()"</span>, <a class="code hl_enumvalue" href="group__views.html#gga2795f63a52f7a5f028abc780bf64758fae6b391a8d2c4d45902a23a8b6585703d">URL</a> = <span class="stringliteral">"@ref AUpdater::checkForUpdates"</span>];</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span> * a &lt;- u [label = <span class="stringliteral">"status = AUpdater::StatusCheckingForUpdates"</span>, <a class="code hl_enumvalue" href="group__views.html#gga2795f63a52f7a5f028abc780bf64758fae6b391a8d2c4d45902a23a8b6585703d">URL</a> = <span class="stringliteral">"@ref AUpdater::StatusCheckingForUpdates"</span>];</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span> * a &lt;- u [label = <span class="stringliteral">"control flow"</span>];</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span> * u box u [label = <span class="stringliteral">"checkForUpdatesImpl()"</span>, <a class="code hl_enumvalue" href="group__views.html#gga2795f63a52f7a5f028abc780bf64758fae6b391a8d2c4d45902a23a8b6585703d">URL</a> = <span class="stringliteral">"@ref AUpdater::checkForUpdatesImpl"</span>];</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span> * u box u [label = <span class="stringliteral">"update was found"</span>];</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span> * a &lt;- u [label = <span class="stringliteral">"status = AUpdater::StatusIdle"</span>, <a class="code hl_enumvalue" href="group__views.html#gga2795f63a52f7a5f028abc780bf64758fae6b391a8d2c4d45902a23a8b6585703d">URL</a> = <span class="stringliteral">"@ref AUpdater::StatusIdle"</span>];</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span> * ...;</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span> * <span class="keyword">@end</span>msc</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span> * </div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span> * You might want to store update check results (i.e., download url) in your implementation of</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span> * @ref <a class="code hl_function" href="classAUpdater.html#a988e31376a10073a79634a25424701ef">AUpdater::checkForUpdatesImpl</a> so your @ref <a class="code hl_function" href="classAUpdater.html#a3727ff4ff2c6c907c13ccf216a3c4d2f">AUpdater::downloadUpdateImpl</a> might reuse <span class="keyword">this</span> information.</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span> * </div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span> * ## Downloading the update</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span> * &lt;b aui-src=<span class="stringliteral">"aui.updater/tests/UpdaterTest.cpp#L234"</span>&gt;&lt;/b&gt;</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span> * </div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span> * When an update is found, your app should call @ref <a class="code hl_function" href="classAUpdater.html#adeb17ffdf5f26b2df85b0b95e56e05e5">AUpdater::downloadUpdate</a> to download and unpack the update. It is</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span> * up to you to decide when to download an update. If you wish, you can call @ref <a class="code hl_function" href="classAUpdater.html#adeb17ffdf5f26b2df85b0b95e56e05e5">AUpdater::downloadUpdate</a> in</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span> * @ref <a class="code hl_function" href="classAUpdater.html#a988e31376a10073a79634a25424701ef">AUpdater::checkForUpdatesImpl</a> to proceed to download process right after update was found (see</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span> * @ref UPDATER_WORKFLOWS <span class="keywordflow">for</span> more information about update workflow decisions). It calls</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span> * user-defined @ref <a class="code hl_function" href="classAUpdater.html#a3727ff4ff2c6c907c13ccf216a3c4d2f">AUpdater::downloadUpdateImpl</a> which might choose to call <span class="keywordflow">default</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span> * `<a class="code hl_function" href="classAUpdater.html#ae1db715d36c366c823542785e9b4a8a1">AUpdater::downloadAndUnpack</a>(&lt;YOUR DOWNLOAD <a class="code hl_enumvalue" href="group__views.html#gga2795f63a52f7a5f028abc780bf64758fae6b391a8d2c4d45902a23a8b6585703d">URL</a>&gt;, unpackedUpdateDir)`.</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span> * </div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span> * @msc</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span> * a[label = <span class="stringliteral">"Your App"</span>],</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span> * u[label = <span class="stringliteral">"AUpdater"</span>, <a class="code hl_enumvalue" href="group__views.html#gga2795f63a52f7a5f028abc780bf64758fae6b391a8d2c4d45902a23a8b6585703d">URL</a> = <span class="stringliteral">"@ref AUpdater"</span>];</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span> * ...;</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span> * a -&gt; u [label = <span class="stringliteral">"downloadUpdate()"</span>, <a class="code hl_enumvalue" href="group__views.html#gga2795f63a52f7a5f028abc780bf64758fae6b391a8d2c4d45902a23a8b6585703d">URL</a> = <span class="stringliteral">"@ref AUpdater::downloadUpdate"</span>];</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span> * a &lt;- u [label = <span class="stringliteral">"status = AUpdater::StatusDownloading"</span>, <a class="code hl_enumvalue" href="group__views.html#gga2795f63a52f7a5f028abc780bf64758fae6b391a8d2c4d45902a23a8b6585703d">URL</a> = <span class="stringliteral">"@ref AUpdater::StatusDownloading"</span>];</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span> * u box u [label = <span class="stringliteral">"downloadUpdateImpl()"</span>, <a class="code hl_enumvalue" href="group__views.html#gga2795f63a52f7a5f028abc780bf64758fae6b391a8d2c4d45902a23a8b6585703d">URL</a> = <span class="stringliteral">"@ref AUpdater::downloadUpdateImpl"</span>];</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span> * a &lt;- u [label = <span class="stringliteral">"status = AUpdater::StatusWaitingForApplyAndRestart"</span>, <a class="code hl_enumvalue" href="group__views.html#gga2795f63a52f7a5f028abc780bf64758fae6b391a8d2c4d45902a23a8b6585703d">URL</a> = <span class="stringliteral">"@ref AUpdater::StatusWaitingForApplyAndRestart"</span>];</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span> * --- [label=<span class="stringliteral">"Your App Prompts User to Update"</span>];</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span> * ...;</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span> * <span class="keyword">@end</span>msc</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span> * </div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span> * ## Applying (deploying) the update</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span> * &lt;b aui-src=<span class="stringliteral">"aui.updater/tests/UpdaterTest.cpp#L255"</span>&gt;&lt;/b&gt;</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span> * </div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span> * At <span class="keyword">this</span> moment, <a class="code hl_class" href="classAUpdater.html">AUpdater</a> waits @ref <a class="code hl_function" href="classAUpdater.html#a0a63bd72a7f8ec39aa6ac4f8f19732cd">AUpdater::applyUpdateAndRestart</a> to be called. When</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span> * @ref <a class="code hl_function" href="classAUpdater.html#a0a63bd72a7f8ec39aa6ac4f8f19732cd">AUpdater::applyUpdateAndRestart</a> is called (i.e., when user accepted update installation), <a class="code hl_class" href="classAUpdater.html">AUpdater</a> executes the</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span> * newer copy of your app downloaded before with a special command line argument which is handled by</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span> * @ref <a class="code hl_function" href="classAUpdater.html#a8325386bf22a7f2465531a0e420f3231">AUpdater::handleStartup</a> in that executable. The initial app process is finished, closing your app window as</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span> * well. From now, your app is in <span class="stringliteral">"downtime"</span> state, so we need to apply the update and reopen app back again as quickly</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span> * as possible. This action is required to perform update installation. The copy then replaces old application (where it</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span> * actually installed) with itself (that is, the downloaded, newer copy). After operation is complete, it passes the</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span> * control back to the updated application executable. At last, the newly updated application performs a cleanup after</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span> * update.</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span> * </div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span> * @msc</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span> * a[label = <span class="stringliteral">"Your App"</span>],</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span> * u[label = <span class="stringliteral">"AUpdater"</span>, <a class="code hl_enumvalue" href="group__views.html#gga2795f63a52f7a5f028abc780bf64758fae6b391a8d2c4d45902a23a8b6585703d">URL</a> = <span class="stringliteral">"@ref AUpdater"</span>],</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span> * da[label = <span class="stringliteral">"Newer Copy of Your App"</span>],</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span> * du[label = <span class="stringliteral">"AUpdater in App Copy"</span>, <a class="code hl_enumvalue" href="group__views.html#gga2795f63a52f7a5f028abc780bf64758fae6b391a8d2c4d45902a23a8b6585703d">URL</a> = <span class="stringliteral">"@ref AUpdater"</span>];</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span> * a :&gt; u [label = <span class="stringliteral">"applyUpdateAndRestart()"</span>, <a class="code hl_enumvalue" href="group__views.html#gga2795f63a52f7a5f028abc780bf64758fae6b391a8d2c4d45902a23a8b6585703d">URL</a> = <span class="stringliteral">"@ref AUpdater::applyUpdateAndRestart"</span>];</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span> * u :&gt; da [label = <span class="stringliteral">"Execute with update arg"</span>];</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span> * u box u [label = <span class="stringliteral">"exit(0)"</span>];</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span> * a box u [label = <span class="stringliteral">"Process Finished"</span>];</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span> * da box du [label = <span class="stringliteral">"Process Started"</span>];</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span> * da -&gt; du [label = <span class="stringliteral">"handleStartup"</span>, <a class="code hl_enumvalue" href="group__views.html#gga2795f63a52f7a5f028abc780bf64758fae6b391a8d2c4d45902a23a8b6585703d">URL</a> = <span class="stringliteral">"@ref AUpdater::handleStartup"</span>];</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span> * du box du [label = <span class="stringliteral">"AUpdater::deployUpdate(...)"</span>, <a class="code hl_enumvalue" href="group__views.html#gga2795f63a52f7a5f028abc780bf64758fae6b391a8d2c4d45902a23a8b6585703d">URL</a> = <span class="stringliteral">"@ref AUpdater::deployUpdate"</span>];</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span> * a &lt;: du [label = <span class="stringliteral">"Execute"</span>];</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span> * du box du [label = <span class="stringliteral">"exit(0)"</span>];</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span> * da box du [label = <span class="stringliteral">"Process Finished"</span>];</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span> * a box u [label = <span class="stringliteral">"Process Started"</span>];</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span> * a -&gt; u [label = <span class="stringliteral">"handleStartup"</span>, <a class="code hl_enumvalue" href="group__views.html#gga2795f63a52f7a5f028abc780bf64758fae6b391a8d2c4d45902a23a8b6585703d">URL</a> = <span class="stringliteral">"@ref AUpdater::handleStartup"</span>];</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span> * u box u [label = <span class="stringliteral">"cleanup download dir"</span>];</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span> * a box u [label=<span class="stringliteral">"App Normal Lifecycle"</span>];</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span> * ...;</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span> * <span class="keyword">@end</span>msc</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span> * </div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span> * After these operations complete, your app is running in its normal lifecycle.</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span> * </div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span> * <a class="code hl_class" href="classAUpdater.html">AUpdater</a> is an abstract <span class="keyword">class</span>; it needs some functions to be implemented by you.</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span> * </div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span> * In <span class="keyword">this</span> example, <a class="code hl_define" href="group__useful__macros.html#ga045dd54932944d8830380f4596d64446">let</a><span class="stringliteral">'s implement auto update from GitHub release pages.</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span><span class="stringliteral"> * &lt;b aui-src="aui.updater/tests/UpdaterTest.cpp#L298"&gt;&lt;/b&gt;</span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span><span class="stringliteral"> * &lt;b aui-src="aui.updater/tests/UpdaterTest.cpp#L299"&gt;&lt;/b&gt;</span></div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span><span class="stringliteral"> * &lt;b aui-src="aui.updater/tests/UpdaterTest.cpp#L300"&gt;&lt;/b&gt;</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span><span class="stringliteral"> * &lt;b aui-src="aui.updater/tests/UpdaterTest.cpp#L301"&gt;&lt;/b&gt;</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span><span class="stringliteral"> * @code{cpp}</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span><span class="stringliteral"> *    static constexpr auto LOG_TAG = "MyUpdater";</span></div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span><span class="stringliteral"> *    class MyUpdater: public AUpdater {</span></div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span><span class="stringliteral"> *    public:</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span><span class="stringliteral"> *        ~MyUpdater() override = default;</span></div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span><span class="stringliteral"> * </span></div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span><span class="stringliteral"> *    protected:</span></div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span><span class="stringliteral"> *        AFuture&lt;void&gt; checkForUpdatesImpl() override {</span></div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span><span class="stringliteral"> *            return async {</span></div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span><span class="stringliteral"> *                try {</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span><span class="stringliteral"> *                    auto githubLatestRelease = aui::updater::github::latestRelease("aui-framework", "example_app");</span></div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span><span class="stringliteral"> *                    ALogger::info(LOG_TAG) &lt;&lt; "Found latest release: " &lt;&lt; githubLatestRelease.tag_name;</span></div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span><span class="stringliteral"> *                    auto ourVersion = aui::updater::Semver::fromString(AUI_PP_STRINGIZE(AUI_CMAKE_PROJECT_VERSION));</span></div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span><span class="stringliteral"> *                    auto theirVersion = aui::updater::Semver::fromString(githubLatestRelease.tag_name);</span></div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span><span class="stringliteral"> * </span></div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span><span class="stringliteral"> *                    if (theirVersion &lt;= ourVersion) {</span></div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span><span class="stringliteral"> *                        getThread()-&gt;enqueue([] {</span></div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span><span class="stringliteral"> *                          AMessageBox::show(</span></div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span><span class="stringliteral"> *                              nullptr, "No updates found", "You are running the latest version.", AMessageBox::Icon::INFO);</span></div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span><span class="stringliteral"> *                        });</span></div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span><span class="stringliteral"> *                        return;</span></div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span><span class="stringliteral"> *                    }</span></div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span><span class="stringliteral"> *                    aui::updater::AppropriatePortablePackagePredicate predicate {};</span></div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span><span class="stringliteral"> *                    auto it = ranges::find_if(</span></div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span><span class="stringliteral"> *                        githubLatestRelease.assets, predicate, &amp;aui::updater::github::LatestReleaseResponse::Asset::name);</span></div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span><span class="stringliteral"> *                    if (it == ranges::end(githubLatestRelease.assets)) {</span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span><span class="stringliteral"> *                        ALogger::warn(LOG_TAG)</span></div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span><span class="stringliteral"> *                            &lt;&lt; "Newer version was found but a package appropriate for your platform is not available. "</span></div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span><span class="stringliteral"> *                               "Expected: "</span></div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span><span class="stringliteral"> *                            &lt;&lt; predicate.getQualifierDebug() &lt;&lt; ", got: "</span></div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span><span class="stringliteral"> *                            &lt;&lt; (githubLatestRelease.assets |</span></div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span><span class="stringliteral"> *                                ranges::view::transform(&amp;aui::updater::github::LatestReleaseResponse::Asset::name));</span></div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span><span class="stringliteral"> *                        return;</span></div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span><span class="stringliteral"> *                    }</span></div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span><span class="stringliteral"> *                    ALogger::info(LOG_TAG) &lt;&lt; "To download: " &lt;&lt; (mDownloadUrl = it-&gt;browser_download_url);</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span><span class="stringliteral"> * </span></div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span><span class="stringliteral"> *                    getThread()-&gt;enqueue([this, self = shared_from_this(), version = githubLatestRelease.tag_name] {</span></div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span><span class="stringliteral"> *                        if (AMessageBox::show(</span></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span><span class="stringliteral"> *                                nullptr, "New version found!", "Found version: {}\n\nWould you like to update?"_format(version),</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span><span class="stringliteral"> *                                AMessageBox::Icon::INFO, AMessageBox::Button::YES_NO) != AMessageBox::ResultButton::YES) {</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span><span class="stringliteral"> *                            return;</span></div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span><span class="stringliteral"> *                        }</span></div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span><span class="stringliteral"> * </span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span><span class="stringliteral"> *                        downloadUpdate();</span></div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span><span class="stringliteral"> *                    });</span></div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span><span class="stringliteral"> * </span></div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span><span class="stringliteral"> *                } catch (const AException&amp; e) {</span></div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span><span class="stringliteral"> *                    ALogger::err(LOG_TAG) &lt;&lt; "Can'</span><a class="code hl_typedef" href="group__ass__selectors.html#gab1309369989373a0f2408455b3a91742">t</a> check <span class="keywordflow">for</span> updates: <span class="stringliteral">" &lt;&lt; e;</span></div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span><span class="stringliteral"> *                    getThread()-&gt;enqueue([] {</span></div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span><span class="stringliteral"> *                        AMessageBox::show(</span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span><span class="stringliteral"> *                            nullptr, "</span>Oops!<span class="stringliteral">", "</span>There is an error occurred <span class="keywordflow">while</span> checking <span class="keywordflow">for</span> updates. Please <span class="keywordflow">try</span> again later.<span class="stringliteral">",</span></div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span><span class="stringliteral"> *                            AMessageBox::Icon::CRITICAL);</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span><span class="stringliteral"> *                    });</span></div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span><span class="stringliteral"> *                }</span></div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span><span class="stringliteral"> *            };</span></div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span><span class="stringliteral"> *        }</span></div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span><span class="stringliteral"> * </span></div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span><span class="stringliteral"> *        AFuture&lt;void&gt; downloadUpdateImpl(const APath&amp; unpackedUpdateDir) override {</span></div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span><span class="stringliteral"> *            return async {</span></div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span><span class="stringliteral"> *              try {</span></div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span><span class="stringliteral"> *                  AUI_ASSERTX(!mDownloadUrl.empty(), "</span>make a successful call to checkForUpdates first<span class="stringliteral">");</span></div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span><span class="stringliteral"> *                  downloadAndUnpack(mDownloadUrl, unpackedUpdateDir);</span></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span><span class="stringliteral"> *                  reportReadyToApplyAndRestart(makeDefaultInstallationCmdline());</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span><span class="stringliteral"> *              } catch (const AException&amp; e) {</span></div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span><span class="stringliteral"> *                  ALogger::err(LOG_TAG) &lt;&lt; "</span>Can<span class="stringliteral">'t check for updates: " &lt;&lt; e;</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span><span class="stringliteral"> *                  getThread()-&gt;enqueue([] {</span></div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span><span class="stringliteral"> *                    AMessageBox::show(</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span><span class="stringliteral"> *                        nullptr, "Oops!", "There is an error occurred while downloading update. Please try again later.",</span></div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span><span class="stringliteral"> *                        AMessageBox::Icon::CRITICAL);</span></div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span><span class="stringliteral"> *                  });</span></div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span><span class="stringliteral"> *              }</span></div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span><span class="stringliteral"> *            };</span></div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span><span class="stringliteral"> *        }</span></div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span><span class="stringliteral"> * </span></div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span><span class="stringliteral"> *    private:</span></div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span><span class="stringliteral"> *        AString mDownloadUrl;</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span><span class="stringliteral"> *    };</span></div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span><span class="stringliteral"> * @endcode</span></div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span><span class="stringliteral"> * </span></div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span><span class="stringliteral"> * # Updater workflows {#UPDATER_WORKFLOWS}</span></div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span><span class="stringliteral"> * &lt;b aui-src="aui.updater/tests/UpdaterTest.cpp#L397"&gt;&lt;/b&gt;</span></div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span><span class="stringliteral"> * When using AUpdater for your application, you need to consider several factors including usability, user experience,</span></div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span><span class="stringliteral"> * system resources, and particular needs of your project.</span></div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span><span class="stringliteral"> * </span></div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span><span class="stringliteral"> * Either way, you might want to implement a way to disable auto update feature in your application.</span></div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span><span class="stringliteral"> * </span></div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span><span class="stringliteral"> * ## Prompt user on every step</span></div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span><span class="stringliteral"> * &lt;b aui-src="aui.updater/tests/UpdaterTest.cpp#L403"&gt;&lt;/b&gt;</span></div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span><span class="stringliteral"> * </span></div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span><span class="stringliteral"> * This approach is implemented in AUI'</span>s @ref example_app_template.</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span> * </div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span> * The updater checks <span class="keywordflow">for</span> updater periodically or upon user request and informs the user that an update is available.</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span> * The user then decides whether to proceed with update or not. If they agree the application will download and install</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span> * the update.</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span> * </div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span> * This way can be considered as better approach because the user may feel they control the situation and the</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span> * application never does things that user never asked to (trust concerns). On the other hand, such requirement of</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span> * additional user interaction to can distract them from doing their work, so these interactions should not be annoying.</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span> * </div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span> * You should not use <a class="code hl_namespace" href="namespaceAMessageBox.html">AMessageBox</a> (unless user explicitly asked to check <span class="keywordflow">for</span> update) as it literally interrupts the</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span> * user<span class="stringliteral">'s workflow, opting them to make a decision before they can continue their work. A great example of a bad auto</span></div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span><span class="stringliteral"> * update implementation is qBittorrent client on Windows: hence this application typically launches on OS startup,</span></div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span><span class="stringliteral"> * it checks for updates in background and pops the message box if update was found, **even if user is focused on</span></div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span><span class="stringliteral"> * another application or away from keyboard**.</span></div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span><span class="stringliteral"> * </span></div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span><span class="stringliteral"> * ## Silent download</span></div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span><span class="stringliteral"> * &lt;b aui-src="aui.updater/tests/UpdaterTest.cpp#L421"&gt;&lt;/b&gt;</span></div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span><span class="stringliteral"> * </span></div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span><span class="stringliteral"> * This approach is implemented in @ref example_app_auigram, as well as in official Qt-based Telegram Desktop client.</span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span><span class="stringliteral"> * </span></div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span><span class="stringliteral"> * The updater silently downloads the update in the background while the user continues working within the application</span></div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span><span class="stringliteral"> * or even other tasks. The update then is applied automatically upon restart.</span></div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span><span class="stringliteral"> * Optionally, the application might show a button/message/notification bubble to restart and apply update.</span></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span><span class="stringliteral"> * </span></div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span><span class="stringliteral"> * Despite user trust concerns, this approach allows seamless experience - users don'</span><a class="code hl_typedef" href="group__ass__selectors.html#gab1309369989373a0f2408455b3a91742">t</a> need to be interrupted during</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span> * their work. They even might not care about updates.</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span> * </div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span> * </div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span> */</div>
<div class="ttc" id="aclassAFuture_html"><div class="ttname"><a href="classAFuture.html">AFuture</a></div><div class="ttdoc">Represents a value that will be available at some point in the future.</div><div class="ttdef"><b>Definition</b> AFuture.h:621</div></div>
<div class="ttc" id="aclassAPath_html"><div class="ttname"><a href="classAPath.html">APath</a></div><div class="ttdoc">An add-on to AString with functions for working with the path.</div><div class="ttdef"><b>Definition</b> APath.h:128</div></div>
<div class="ttc" id="aclassAUpdater_html"><div class="ttname"><a href="classAUpdater.html">AUpdater</a></div><div class="ttdoc">Updater class.</div><div class="ttdef"><b>Definition</b> AUpdater.h:30</div></div>
<div class="ttc" id="aclassAUpdater_html_a0a63bd72a7f8ec39aa6ac4f8f19732cd"><div class="ttname"><a href="classAUpdater.html#a0a63bd72a7f8ec39aa6ac4f8f19732cd">AUpdater::applyUpdateAndRestart</a></div><div class="ttdeci">virtual void applyUpdateAndRestart()</div><div class="ttdoc">Deploy the downloaded update.</div></div>
<div class="ttc" id="aclassAUpdater_html_a1e6e8f3dcd758c1aa6d327102ab46a71"><div class="ttname"><a href="classAUpdater.html#a1e6e8f3dcd758c1aa6d327102ab46a71">AUpdater::status</a></div><div class="ttdeci">AProperty&lt; std::any &gt; status</div><div class="ttdoc">State of the updater.</div><div class="ttdef"><b>Definition</b> AUpdater.h:207</div></div>
<div class="ttc" id="aclassAUpdater_html_a3727ff4ff2c6c907c13ccf216a3c4d2f"><div class="ttname"><a href="classAUpdater.html#a3727ff4ff2c6c907c13ccf216a3c4d2f">AUpdater::downloadUpdateImpl</a></div><div class="ttdeci">virtual AFuture&lt; void &gt; downloadUpdateImpl(const APath &amp;unpackedUpdateDir)=0</div><div class="ttdoc">Performs update delivery to the specified directory.</div></div>
<div class="ttc" id="aclassAUpdater_html_a8325386bf22a7f2465531a0e420f3231"><div class="ttname"><a href="classAUpdater.html#a8325386bf22a7f2465531a0e420f3231">AUpdater::handleStartup</a></div><div class="ttdeci">virtual void handleStartup(const AStringVector &amp;applicationArguments)</div><div class="ttdoc">Performs a pre-application AUpdater routine.</div></div>
<div class="ttc" id="aclassAUpdater_html_a988e31376a10073a79634a25424701ef"><div class="ttname"><a href="classAUpdater.html#a988e31376a10073a79634a25424701ef">AUpdater::checkForUpdatesImpl</a></div><div class="ttdeci">virtual AFuture&lt; void &gt; checkForUpdatesImpl()=0</div><div class="ttdoc">Check for updates user's implementation.</div></div>
<div class="ttc" id="aclassAUpdater_html_ad0df1b1eaa58c79f7be6b3b2d4b341f3"><div class="ttname"><a href="classAUpdater.html#ad0df1b1eaa58c79f7be6b3b2d4b341f3">AUpdater::checkForUpdates</a></div><div class="ttdeci">void checkForUpdates()</div><div class="ttdoc">Sets status to StatusCheckingForUpdates and calls checkForUpdatesImpl, implemented by user.</div></div>
<div class="ttc" id="aclassAUpdater_html_adeb17ffdf5f26b2df85b0b95e56e05e5"><div class="ttname"><a href="classAUpdater.html#adeb17ffdf5f26b2df85b0b95e56e05e5">AUpdater::downloadUpdate</a></div><div class="ttdeci">void downloadUpdate()</div><div class="ttdoc">Sets status to StatusDownloading and calls downloadUpdateImpl, implemented by user.</div></div>
<div class="ttc" id="aclassAUpdater_html_ae1db715d36c366c823542785e9b4a8a1"><div class="ttname"><a href="classAUpdater.html#ae1db715d36c366c823542785e9b4a8a1">AUpdater::downloadAndUnpack</a></div><div class="ttdeci">void downloadAndUnpack(AString downloadUrl, const APath &amp;unpackedUpdateDir)</div><div class="ttdoc">Typical download and unpack implementation.</div></div>
<div class="ttc" id="agroup__ass__selectors_html_gab1309369989373a0f2408455b3a91742"><div class="ttname"><a href="group__ass__selectors.html#gab1309369989373a0f2408455b3a91742">ass::t</a></div><div class="ttdeci">type_of&lt; T &gt; t</div><div class="ttdoc">Selects views that are of the specified C++ types.</div><div class="ttdef"><b>Definition</b> type_of.h:71</div></div>
<div class="ttc" id="agroup__useful__macros_html_ga045dd54932944d8830380f4596d64446"><div class="ttname"><a href="group__useful__macros.html#ga045dd54932944d8830380f4596d64446">let</a></div><div class="ttdeci">#define let</div><div class="ttdoc">Performs multiple operations on a single object without repeating its name (in place) This function c...</div><div class="ttdef"><b>Definition</b> kAUI.h:262</div></div>
<div class="ttc" id="agroup__useful__macros_html_ga9fb2be9313369673815a6892aa7f3a1f"><div class="ttname"><a href="group__useful__macros.html#ga9fb2be9313369673815a6892aa7f3a1f">AUI_ENTRY</a></div><div class="ttdeci">#define AUI_ENTRY</div><div class="ttdoc">Application entry point.</div><div class="ttdef"><b>Definition</b> Entry.h:90</div></div>
<div class="ttc" id="agroup__useful__macros_html_gada84521eeb4bb9ac422d21429806aff3"><div class="ttname"><a href="group__useful__macros.html#gada84521eeb4bb9ac422d21429806aff3">async</a></div><div class="ttdeci">#define async</div><div class="ttdoc">Executes following {} block asynchronously in the global thread pool. Unlike asyncX,...</div><div class="ttdef"><b>Definition</b> kAUI.h:329</div></div>
<div class="ttc" id="agroup__views_html_gga2795f63a52f7a5f028abc780bf64758fae6b391a8d2c4d45902a23a8b6585703d"><div class="ttname"><a href="group__views.html#gga2795f63a52f7a5f028abc780bf64758fae6b391a8d2c4d45902a23a8b6585703d">ATextInputType::URL</a></div><div class="ttdeci">@ URL</div><div class="ttdoc">Optimize for URLs.</div><div class="ttdef"><b>Definition</b> ATextInputType.h:48</div></div>
<div class="ttc" id="anamespaceAMessageBox_html"><div class="ttname"><a href="namespaceAMessageBox.html">AMessageBox</a></div><div class="ttdoc">Displaying native modal message dialogs.</div><div class="ttdef"><b>Definition</b> AMessageBox.h:46</div></div>
</div><!-- fragment --><p class="footer-inner">
    © 2025 AUI Framework Contributors. Documentation contributions included herein are the copyrights of their
    respective owners. The documentation provided herein is licensed under the terms of the GNU Free Documentation
    License version 1.3 as published by the Free Software Foundation. All trademarks are property of their respective owners.
</p>
</div><div class="contents-rails-right"></div></div><!-- doc-content -->
<!-- HTML footer for doxygen 1.12.0-->
<!-- start footer part -->
</div></body>
</html>
