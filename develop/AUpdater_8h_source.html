<!-- HTML header for doxygen 1.9.1--><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html class="dark-mode" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/xhtml;charset=utf-8" http-equiv="Content-Type"/>
<meta content="IE=9" http-equiv="X-UA-Compatible"/>
<meta content="Doxygen 1.13.1" name="generator"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>AUI Framework: aui.updater/src/AUI/Updater/AUpdater.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet"/>
<script src="jquery.js" type="text/javascript"></script>
<script src="dynsections.js" type="text/javascript"></script>
<script src="toc.js" type="text/javascript"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script src="navtreedata.js" type="text/javascript"></script>
<script src="navtree.js" type="text/javascript"></script>
<script src="resize.js" type="text/javascript"></script>
<script src="cookie.js" type="text/javascript"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script src="search/searchdata.js" type="text/javascript"></script>
<script src="search/search.js" type="text/javascript"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellpadding="0" cellspacing="0">
<tbody>
<tr style="height: 56px;">
<td id="projectlogo"><img alt="Logo" src="logo_doxygen.svg"/></td>
<td id="projectalign" style="padding-left: 0.5em;">
<div id="projectname">AUI Framework
                         <span id="projectnumber">develop</span>
</div>
<div id="projectbrief">Cross-platform base for C++ UI apps</div>
</td>
</tr>
</tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script src="menudata.js" type="text/javascript"></script>
<script src="menu.js" type="text/javascript"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="ui-resizable side-nav-resizable" id="side-nav">
<div id="nav-tree">
<div id="nav-tree-contents">
<div class="sync" id="nav-sync"></div>
</div>
</div>
<div class="ui-resizable-handle" id="splitbar" style="-moz-user-select:none;">
</div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('AUpdater_8h_source.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()">
</div>
<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>
<div class="header">
<div class="headertitle"><div class="title">AUpdater.h</div></div>
</div><!--header-->
<div class="contents aui-toc-contents"><div class="contents-rails-left">
<div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">// AUI Framework - Declarative UI toolkit for modern C++20</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">// Copyright (C) 2020-2024 Alex2772 and Contributors</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">//</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">// SPDX-License-Identifier: MPL-2.0</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">//</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">// This Source Code Form is subject to the terms of the Mozilla Public</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">// License, v. 2.0. If a copy of the MPL was not distributed with this</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">// file, You can obtain one at http://mozilla.org/MPL/2.0/.</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span> </div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#pragma once</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span> </div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &lt;AUI/Common/AObject.h&gt;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &lt;AUI/Common/AStringVector.h&gt;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &lt;AUI/Common/AProperty.h&gt;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &lt;AUI/Thread/AAsyncHolder.h&gt;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include "AUI/IO/APath.h"</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include "AUI/Thread/AFuture.h"</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &lt;AUI/Platform/AProcess.h&gt;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span></div>
<div class="foldopen" data-end="};" data-start="{" id="foldopen00029">
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno"><a class="line" href="classAUpdater.html">   29</a></span><span class="keyword">class </span>API_AUI_UPDATER AUpdater : <span class="keyword">public</span> AObject {</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="keyword">public</span>:</div>
<div class="foldopen" data-end="};" data-start="{" id="foldopen00035">
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno"><a class="line" href="structAUpdater_1_1InstallCmdline.html">   35</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structAUpdater_1_1InstallCmdline.html">InstallCmdline</a> {</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno"><a class="line" href="structAUpdater_1_1InstallCmdline.html#a5245f05712a556b79a3152512fba8a7c">   42</a></span>        <a class="code hl_class" href="classAPath.html">APath</a> <a class="code hl_variable" href="structAUpdater_1_1InstallCmdline.html#a5245f05712a556b79a3152512fba8a7c">installerExecutable</a>;</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno"><a class="line" href="structAUpdater_1_1InstallCmdline.html#aecca1e5d847bcb18530e2912d88ec2bf">   47</a></span>        <a class="code hl_class" href="classAVector.html">AVector&lt;AString&gt;</a> <a class="code hl_variable" href="structAUpdater_1_1InstallCmdline.html#aecca1e5d847bcb18530e2912d88ec2bf">installerArguments</a>;</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>    };</div>
</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span></div>
<div class="foldopen" data-end="};" data-start="{" id="foldopen00052">
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno"><a class="line" href="structAUpdater_1_1GetInstallationDirectoryContext.html">   52</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structAUpdater_1_1GetInstallationDirectoryContext.html">GetInstallationDirectoryContext</a> {</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno"><a class="line" href="structAUpdater_1_1GetInstallationDirectoryContext.html#a6df51332722f79baa792aab79c6565b4">   56</a></span>        <a class="code hl_class" href="classAPath.html">APath</a> <a class="code hl_variable" href="structAUpdater_1_1GetInstallationDirectoryContext.html#a6df51332722f79baa792aab79c6565b4">selfProcessExePath</a> = <a class="code hl_function" href="classAProcess.html#adea549494f632443acf8a5533e6ef719">AProcess::self</a>()-&gt;getPathToExecutable();</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno"><a class="line" href="structAUpdater_1_1GetInstallationDirectoryContext.html#ae23c64b8d8effa6cedd912fc788c1390">   61</a></span>        <a class="code hl_class" href="classAPath.html">APath</a> <a class="code hl_variable" href="structAUpdater_1_1GetInstallationDirectoryContext.html#ae23c64b8d8effa6cedd912fc788c1390">updaterDir</a>;</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno"><a class="line" href="structAUpdater_1_1GetInstallationDirectoryContext.html#aab48a7435f9b549c2c1b2781cedb8cdd">   67</a></span>        <a class="code hl_class" href="classAPath.html">APath</a> <a class="code hl_variable" href="structAUpdater_1_1GetInstallationDirectoryContext.html#aab48a7435f9b549c2c1b2781cedb8cdd">originExe</a>;</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>    };</div>
</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span> </div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    AUpdater();</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    ~AUpdater() <span class="keyword">override</span> = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classAUpdater.html#a386d910f3ae16785f171103ff2c29da5">handlePostUpdateCleanup</a>();</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span></div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classAUpdater.html#a7a5c6b8a79a6bab249f197210d66ee11">handleStartup</a>(<span class="keyword">const</span> <a class="code hl_class" href="classAStringVector.html">AStringVector</a>&amp; applicationArguments);</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span></div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classAUpdater.html#ac0945a7562305a181f3481cb8f170717">applyUpdateAndRestart</a>();</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno"><a class="line" href="structAUpdater_1_1StatusIdle.html">  163</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structAUpdater_1_1StatusIdle.html">StatusIdle</a> {};</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno"><a class="line" href="structAUpdater_1_1StatusCheckingForUpdates.html">  168</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structAUpdater_1_1StatusCheckingForUpdates.html">StatusCheckingForUpdates</a> {};</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span></div>
<div class="foldopen" data-end="};" data-start="{" id="foldopen00173">
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno"><a class="line" href="structAUpdater_1_1StatusDownloading.html">  173</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structAUpdater_1_1StatusDownloading.html">StatusDownloading</a> {</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>        <a class="code hl_class" href="structAProperty.html">AProperty&lt;aui::float_within_0_1&gt;</a> progress;</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    };</div>
</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno"><a class="line" href="structAUpdater_1_1StatusNotAvailable.html">  181</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structAUpdater_1_1StatusNotAvailable.html">StatusNotAvailable</a> {};</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span></div>
<div class="foldopen" data-end="};" data-start="{" id="foldopen00186">
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno"><a class="line" href="structAUpdater_1_1StatusWaitingForApplyAndRestart.html">  186</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structAUpdater_1_1StatusWaitingForApplyAndRestart.html">StatusWaitingForApplyAndRestart</a> {</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>        <a class="code hl_struct" href="structAUpdater_1_1InstallCmdline.html">InstallCmdline</a> installCmdline;</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>    };</div>
</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span></div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno"><a class="line" href="classAUpdater.html#a1e6e8f3dcd758c1aa6d327102ab46a71">  206</a></span>    <a class="code hl_class" href="structAProperty.html">AProperty&lt;std::any&gt;</a> <a class="code hl_variable" href="classAUpdater.html#a1e6e8f3dcd758c1aa6d327102ab46a71">status</a>;</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span></div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAUpdater.html#ad0df1b1eaa58c79f7be6b3b2d4b341f3">checkForUpdates</a>();</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAUpdater.html#adeb17ffdf5f26b2df85b0b95e56e05e5">downloadUpdate</a>();</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span> </div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    [[nodiscard]]</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    <span class="keyword">const</span> <a class="code hl_class" href="classAOptional.html">AOptional&lt;AString&gt;</a>&amp; getLastDeploymentError() const noexcept { <span class="keywordflow">return</span> mLastDeploymentError; }</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span></div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>    <span class="keyword">static</span> <span class="keywordtype">bool</span> isAvailable();</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span> </div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span><span class="keyword">protected</span>:</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno"><a class="line" href="classAUpdater.html#a2cbfaf88d6b4754f51c2c258c1f03946">  236</a></span>    <a class="code hl_class" href="classAAsyncHolder.html">AAsyncHolder</a> <a class="code hl_variable" href="classAUpdater.html#a2cbfaf88d6b4754f51c2c258c1f03946">mAsync</a>;</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>    <a class="code hl_struct" href="structAUpdater_1_1InstallCmdline.html">InstallCmdline</a> <a class="code hl_function" href="classAUpdater.html#a93fa78243070118918b15e456630c3bd">makeDefaultInstallationCmdline</a>() <span class="keyword">const</span>;</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span></div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classAUpdater.html#a3a002b297aebea3740fe042dbe75f7aa">triggerUpdateOnStartup</a>();</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span></div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno"><a class="line" href="classAUpdater.html#a3727ff4ff2c6c907c13ccf216a3c4d2f">  268</a></span>    <span class="keyword">virtual</span> <a class="code hl_class" href="classAFuture.html">AFuture&lt;void&gt;</a> <a class="code hl_function" href="classAUpdater.html#a3727ff4ff2c6c907c13ccf216a3c4d2f">downloadUpdateImpl</a>(<span class="keyword">const</span> <a class="code hl_class" href="classAPath.html">APath</a>&amp; unpackedUpdateDir) = 0;</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span></div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno"><a class="line" href="classAUpdater.html#a988e31376a10073a79634a25424701ef">  273</a></span>    <span class="keyword">virtual</span> <a class="code hl_class" href="classAFuture.html">AFuture&lt;void&gt;</a> <a class="code hl_function" href="classAUpdater.html#a988e31376a10073a79634a25424701ef">checkForUpdatesImpl</a>() = 0;</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span></div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAUpdater.html#ae1db715d36c366c823542785e9b4a8a1">downloadAndUnpack</a>(<a class="code hl_class" href="classAString.html">AString</a> downloadUrl, <span class="keyword">const</span> <a class="code hl_class" href="classAPath.html">APath</a>&amp; unpackedUpdateDir);</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span></div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAUpdater.html#a2d22681af3de65f3456a66a264aca44a">reportDownloadedPercentage</a>(aui::float_within_0_1 progress);</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span></div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>    <span class="keyword">virtual</span> <a class="code hl_class" href="classAString.html">AString</a> <a class="code hl_function" href="classAUpdater.html#a131cb72ee4fc41610e07d7e9f325f967">getModuleName</a>() <span class="keyword">const</span>;</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span></div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno"><a class="line" href="classAUpdater.html#a53e3735cb83c9a451db224dbe1630ad6">  305</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classAUpdater.html#a53e3735cb83c9a451db224dbe1630ad6">reportReadyToApplyAndRestart</a>(<a class="code hl_struct" href="structAUpdater_1_1InstallCmdline.html">InstallCmdline</a> cmdline);</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span></div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>    <span class="keyword">virtual</span> <a class="code hl_class" href="classAPath.html">APath</a> <a class="code hl_function" href="classAUpdater.html#af6cabe122b4a9bb8b10c80a882a2eaca">getTempWorkDir</a>() <span class="keyword">const</span>;</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    <span class="keyword">virtual</span> <a class="code hl_class" href="classAPath.html">APath</a> <a class="code hl_function" href="classAUpdater.html#afaf351c61377c0b91957faebe7c848e7">getUnpackedUpdateDir</a>() <span class="keyword">const</span>;</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span></div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>    <span class="keyword">virtual</span> <a class="code hl_class" href="classAOptional.html">AOptional&lt;InstallCmdline&gt;</a> <a class="code hl_function" href="classAUpdater.html#a742005fa46292f78b935592241f2169a">loadInstallCmdline</a>() <span class="keyword">const</span>;</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span></div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classAUpdater.html#a8923b5f851d83d45a396994a80f878cc">saveCmdline</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structAUpdater_1_1InstallCmdline.html">InstallCmdline</a>&amp; cmdline) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span></div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classAUpdater.html#aab00d1805b08cec2f9f208069702c049">handleWaitForProcess</a>(uint32_t pid);</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span></div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>    <span class="keyword">virtual</span> <a class="code hl_class" href="classAVector.html">AVector&lt;AString&gt;</a> <a class="code hl_function" href="classAUpdater.html#add6d4683d2e6a876e34fdf1558e9faa7">injectWaitForMyPid</a>(<a class="code hl_class" href="classAVector.html">AVector&lt;AString&gt;</a> args);</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span></div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classAUpdater.html#ad71d7ba30e218c44a7cd5e92d47cd932">deployUpdate</a>(<span class="keyword">const</span> <a class="code hl_class" href="classAPath.html">APath</a>&amp; source, <span class="keyword">const</span> <a class="code hl_class" href="classAPath.html">APath</a>&amp; destination);</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span></div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    <span class="keyword">virtual</span> <a class="code hl_class" href="classAPath.html">APath</a> <a class="code hl_function" href="classAUpdater.html#a8fec42968ba791110b69406dc4f5143c">getInstallationDirectory</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structAUpdater_1_1GetInstallationDirectoryContext.html">GetInstallationDirectoryContext</a>&amp; context);</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span></div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classAUpdater.html#aae839d454e206a02062cb8527c171a75">cleanupUnpackedUpdateDirBeforeDownloading</a>();</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span> </div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>    <a class="code hl_class" href="classAOptional.html">AOptional&lt;AString&gt;</a> mLastDeploymentError;</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>};</div>
</div>
<div class="ttc" id="aclassAAsyncHolder_html"><div class="ttname"><a href="classAAsyncHolder.html">AAsyncHolder</a></div><div class="ttdoc">Holds a set of futures keeping them valid.</div><div class="ttdef"><b>Definition</b> AAsyncHolder.h:30</div></div>
<div class="ttc" id="aclassAFuture_html"><div class="ttname"><a href="classAFuture.html">AFuture</a></div><div class="ttdoc">Represents a value that will be available at some point in the future.</div><div class="ttdef"><b>Definition</b> AFuture.h:620</div></div>
<div class="ttc" id="aclassAOptional_html"><div class="ttname"><a href="classAOptional.html">AOptional</a></div><div class="ttdoc">Utility wrapper implementing the stack-allocated (fast) optional idiom.</div><div class="ttdef"><b>Definition</b> AOptional.h:32</div></div>
<div class="ttc" id="aclassAPath_html"><div class="ttname"><a href="classAPath.html">APath</a></div><div class="ttdoc">An add-on to AString with functions for working with the path.</div><div class="ttdef"><b>Definition</b> APath.h:128</div></div>
<div class="ttc" id="aclassAProcess_html_adea549494f632443acf8a5533e6ef719"><div class="ttname"><a href="classAProcess.html#adea549494f632443acf8a5533e6ef719">AProcess::self</a></div><div class="ttdeci">static _&lt; AProcess &gt; self()</div><div class="ttdef"><b>Definition</b> AProcessImpl.mm:39</div></div>
<div class="ttc" id="aclassAStringVector_html"><div class="ttname"><a href="classAStringVector.html">AStringVector</a></div><div class="ttdoc">An AVector with string-related functions.</div><div class="ttdef"><b>Definition</b> AStringVector.h:22</div></div>
<div class="ttc" id="aclassAString_html"><div class="ttname"><a href="classAString.html">AString</a></div><div class="ttdoc">Represents a Unicode character string.</div><div class="ttdef"><b>Definition</b> AString.h:37</div></div>
<div class="ttc" id="aclassAUpdater_html_a131cb72ee4fc41610e07d7e9f325f967"><div class="ttname"><a href="classAUpdater.html#a131cb72ee4fc41610e07d7e9f325f967">AUpdater::getModuleName</a></div><div class="ttdeci">virtual AString getModuleName() const</div><div class="ttdoc">Returns a module name of your (your_app_name or your_app_name.exe, without a leading path).</div><div class="ttdef"><b>Definition</b> AUpdater.cpp:206</div></div>
<div class="ttc" id="aclassAUpdater_html_a1e6e8f3dcd758c1aa6d327102ab46a71"><div class="ttname"><a href="classAUpdater.html#a1e6e8f3dcd758c1aa6d327102ab46a71">AUpdater::status</a></div><div class="ttdeci">AProperty&lt; std::any &gt; status</div><div class="ttdoc">State of the updater.</div><div class="ttdef"><b>Definition</b> AUpdater.h:206</div></div>
<div class="ttc" id="aclassAUpdater_html_a2cbfaf88d6b4754f51c2c258c1f03946"><div class="ttname"><a href="classAUpdater.html#a2cbfaf88d6b4754f51c2c258c1f03946">AUpdater::mAsync</a></div><div class="ttdeci">AAsyncHolder mAsync</div><div class="ttdoc">Holder for async operations.</div><div class="ttdef"><b>Definition</b> AUpdater.h:236</div></div>
<div class="ttc" id="aclassAUpdater_html_a2d22681af3de65f3456a66a264aca44a"><div class="ttname"><a href="classAUpdater.html#a2d22681af3de65f3456a66a264aca44a">AUpdater::reportDownloadedPercentage</a></div><div class="ttdeci">void reportDownloadedPercentage(aui::float_within_0_1 progress)</div><div class="ttdoc">Being called by downloadUpdateImpl, reports download percentage to status.</div><div class="ttdef"><b>Definition</b> AUpdater.cpp:154</div></div>
<div class="ttc" id="aclassAUpdater_html_a3727ff4ff2c6c907c13ccf216a3c4d2f"><div class="ttname"><a href="classAUpdater.html#a3727ff4ff2c6c907c13ccf216a3c4d2f">AUpdater::downloadUpdateImpl</a></div><div class="ttdeci">virtual AFuture&lt; void &gt; downloadUpdateImpl(const APath &amp;unpackedUpdateDir)=0</div><div class="ttdoc">Performs update delivery to the specified directory.</div></div>
<div class="ttc" id="aclassAUpdater_html_a386d910f3ae16785f171103ff2c29da5"><div class="ttname"><a href="classAUpdater.html#a386d910f3ae16785f171103ff2c29da5">AUpdater::handlePostUpdateCleanup</a></div><div class="ttdeci">virtual void handlePostUpdateCleanup()</div><div class="ttdoc">Performs post update cleanup routines.</div><div class="ttdef"><b>Definition</b> AUpdater.cpp:258</div></div>
<div class="ttc" id="aclassAUpdater_html_a3a002b297aebea3740fe042dbe75f7aa"><div class="ttname"><a href="classAUpdater.html#a3a002b297aebea3740fe042dbe75f7aa">AUpdater::triggerUpdateOnStartup</a></div><div class="ttdeci">virtual void triggerUpdateOnStartup()</div><div class="ttdoc">Triggers update routine.</div><div class="ttdef"><b>Definition</b> AUpdater.cpp:250</div></div>
<div class="ttc" id="aclassAUpdater_html_a53e3735cb83c9a451db224dbe1630ad6"><div class="ttname"><a href="classAUpdater.html#a53e3735cb83c9a451db224dbe1630ad6">AUpdater::reportReadyToApplyAndRestart</a></div><div class="ttdeci">void reportReadyToApplyAndRestart(InstallCmdline cmdline)</div><div class="ttdoc">Dumps InstallCmdline to temporary download directory, indicating that an update is ready to install....</div></div>
<div class="ttc" id="aclassAUpdater_html_a742005fa46292f78b935592241f2169a"><div class="ttname"><a href="classAUpdater.html#a742005fa46292f78b935592241f2169a">AUpdater::loadInstallCmdline</a></div><div class="ttdeci">virtual AOptional&lt; InstallCmdline &gt; loadInstallCmdline() const</div><div class="ttdoc">Restores install command line state, if any.</div><div class="ttdef"><b>Definition</b> AUpdater.cpp:236</div></div>
<div class="ttc" id="aclassAUpdater_html_a7a5c6b8a79a6bab249f197210d66ee11"><div class="ttname"><a href="classAUpdater.html#a7a5c6b8a79a6bab249f197210d66ee11">AUpdater::handleStartup</a></div><div class="ttdeci">virtual void handleStartup(const AStringVector &amp;applicationArguments)</div><div class="ttdoc">Performs a pre-application AUpdater routine.</div><div class="ttdef"><b>Definition</b> AUpdater.cpp:36</div></div>
<div class="ttc" id="aclassAUpdater_html_a8923b5f851d83d45a396994a80f878cc"><div class="ttname"><a href="classAUpdater.html#a8923b5f851d83d45a396994a80f878cc">AUpdater::saveCmdline</a></div><div class="ttdeci">virtual void saveCmdline(const InstallCmdline &amp;cmdline) const</div><div class="ttdoc">Saves install command line to restore state when application is restarted.</div><div class="ttdef"><b>Definition</b> AUpdater.cpp:232</div></div>
<div class="ttc" id="aclassAUpdater_html_a8fec42968ba791110b69406dc4f5143c"><div class="ttname"><a href="classAUpdater.html#a8fec42968ba791110b69406dc4f5143c">AUpdater::getInstallationDirectory</a></div><div class="ttdeci">virtual APath getInstallationDirectory(const GetInstallationDirectoryContext &amp;context)</div><div class="ttdoc">Retrieves installation directory based on given context.</div><div class="ttdef"><b>Definition</b> AUpdater.cpp:311</div></div>
<div class="ttc" id="aclassAUpdater_html_a93fa78243070118918b15e456630c3bd"><div class="ttname"><a href="classAUpdater.html#a93fa78243070118918b15e456630c3bd">AUpdater::makeDefaultInstallationCmdline</a></div><div class="ttdeci">InstallCmdline makeDefaultInstallationCmdline() const</div><div class="ttdoc">Constructs InstallCmdline with default arguments.</div><div class="ttdef"><b>Definition</b> AUpdater.cpp:208</div></div>
<div class="ttc" id="aclassAUpdater_html_a988e31376a10073a79634a25424701ef"><div class="ttname"><a href="classAUpdater.html#a988e31376a10073a79634a25424701ef">AUpdater::checkForUpdatesImpl</a></div><div class="ttdeci">virtual AFuture&lt; void &gt; checkForUpdatesImpl()=0</div><div class="ttdoc">Check for updates user's implementation.</div></div>
<div class="ttc" id="aclassAUpdater_html_aab00d1805b08cec2f9f208069702c049"><div class="ttname"><a href="classAUpdater.html#aab00d1805b08cec2f9f208069702c049">AUpdater::handleWaitForProcess</a></div><div class="ttdeci">virtual void handleWaitForProcess(uint32_t pid)</div><div class="ttdoc">Handles –aui-updater-wait-for-process.</div><div class="ttdef"><b>Definition</b> AUpdater.cpp:278</div></div>
<div class="ttc" id="aclassAUpdater_html_aae839d454e206a02062cb8527c171a75"><div class="ttname"><a href="classAUpdater.html#aae839d454e206a02062cb8527c171a75">AUpdater::cleanupUnpackedUpdateDirBeforeDownloading</a></div><div class="ttdeci">virtual void cleanupUnpackedUpdateDirBeforeDownloading()</div><div class="ttdoc">called by AUpdater::downloadUpdate before downloading update to cleanup AUpdater::getUnpackedUpdateDi...</div><div class="ttdef"><b>Definition</b> AUpdater.cpp:331</div></div>
<div class="ttc" id="aclassAUpdater_html_ac0945a7562305a181f3481cb8f170717"><div class="ttname"><a href="classAUpdater.html#ac0945a7562305a181f3481cb8f170717">AUpdater::applyUpdateAndRestart</a></div><div class="ttdeci">virtual void applyUpdateAndRestart()</div><div class="ttdoc">Deploy the downloaded update.</div><div class="ttdef"><b>Definition</b> AUpdater.cpp:110</div></div>
<div class="ttc" id="aclassAUpdater_html_ad0df1b1eaa58c79f7be6b3b2d4b341f3"><div class="ttname"><a href="classAUpdater.html#ad0df1b1eaa58c79f7be6b3b2d4b341f3">AUpdater::checkForUpdates</a></div><div class="ttdeci">void checkForUpdates()</div><div class="ttdoc">Sets status to StatusCheckingForUpdates and calls checkForUpdatesImpl, implemented by user.</div><div class="ttdef"><b>Definition</b> AUpdater.cpp:162</div></div>
<div class="ttc" id="aclassAUpdater_html_ad71d7ba30e218c44a7cd5e92d47cd932"><div class="ttname"><a href="classAUpdater.html#ad71d7ba30e218c44a7cd5e92d47cd932">AUpdater::deployUpdate</a></div><div class="ttdeci">virtual void deployUpdate(const APath &amp;source, const APath &amp;destination)</div><div class="ttdoc">Deploys update by recursively copying (moving) files from source dir to destination dir.</div><div class="ttdef"><b>Definition</b> AUpdater.cpp:293</div></div>
<div class="ttc" id="aclassAUpdater_html_add6d4683d2e6a876e34fdf1558e9faa7"><div class="ttname"><a href="classAUpdater.html#add6d4683d2e6a876e34fdf1558e9faa7">AUpdater::injectWaitForMyPid</a></div><div class="ttdeci">virtual AVector&lt; AString &gt; injectWaitForMyPid(AVector&lt; AString &gt; args)</div><div class="ttdoc">Injects –aui-updater-wait-for-process=THIS_PROCESS_PID as the first argument.</div><div class="ttdef"><b>Definition</b> AUpdater.cpp:288</div></div>
<div class="ttc" id="aclassAUpdater_html_adeb17ffdf5f26b2df85b0b95e56e05e5"><div class="ttname"><a href="classAUpdater.html#adeb17ffdf5f26b2df85b0b95e56e05e5">AUpdater::downloadUpdate</a></div><div class="ttdeci">void downloadUpdate()</div><div class="ttdoc">Sets status to StatusDownloading and calls downloadUpdateImpl, implemented by user.</div><div class="ttdef"><b>Definition</b> AUpdater.cpp:180</div></div>
<div class="ttc" id="aclassAUpdater_html_ae1db715d36c366c823542785e9b4a8a1"><div class="ttname"><a href="classAUpdater.html#ae1db715d36c366c823542785e9b4a8a1">AUpdater::downloadAndUnpack</a></div><div class="ttdeci">void downloadAndUnpack(AString downloadUrl, const APath &amp;unpackedUpdateDir)</div><div class="ttdoc">Typical download and unpack implementation.</div><div class="ttdef"><b>Definition</b> AUpdater.cpp:129</div></div>
<div class="ttc" id="aclassAUpdater_html_af6cabe122b4a9bb8b10c80a882a2eaca"><div class="ttname"><a href="classAUpdater.html#af6cabe122b4a9bb8b10c80a882a2eaca">AUpdater::getTempWorkDir</a></div><div class="ttdeci">virtual APath getTempWorkDir() const</div><div class="ttdoc">Working directory for AUpdater. By default, points to some path in TEMP.</div><div class="ttdef"><b>Definition</b> AUpdater.cpp:202</div></div>
<div class="ttc" id="aclassAUpdater_html_afaf351c61377c0b91957faebe7c848e7"><div class="ttname"><a href="classAUpdater.html#afaf351c61377c0b91957faebe7c848e7">AUpdater::getUnpackedUpdateDir</a></div><div class="ttdeci">virtual APath getUnpackedUpdateDir() const</div><div class="ttdoc">The path where the update is unpacked to.</div><div class="ttdef"><b>Definition</b> AUpdater.cpp:196</div></div>
<div class="ttc" id="aclassAVector_html"><div class="ttname"><a href="classAVector.html">AVector</a></div><div class="ttdoc">A std::vector with AUI extensions.</div><div class="ttdef"><b>Definition</b> AVector.h:39</div></div>
<div class="ttc" id="astructAProperty_html"><div class="ttname"><a href="structAProperty.html">AProperty</a></div><div class="ttdoc">Basic easy-to-use property implementation containing T.</div><div class="ttdef"><b>Definition</b> AProperty.h:145</div></div>
<div class="ttc" id="astructAUpdater_1_1GetInstallationDirectoryContext_html"><div class="ttname"><a href="structAUpdater_1_1GetInstallationDirectoryContext.html">AUpdater::GetInstallationDirectoryContext</a></div><div class="ttdoc">Context for AUpdater::getInstallationDirectory.</div><div class="ttdef"><b>Definition</b> AUpdater.h:52</div></div>
<div class="ttc" id="astructAUpdater_1_1GetInstallationDirectoryContext_html_a6df51332722f79baa792aab79c6565b4"><div class="ttname"><a href="structAUpdater_1_1GetInstallationDirectoryContext.html#a6df51332722f79baa792aab79c6565b4">AUpdater::GetInstallationDirectoryContext::selfProcessExePath</a></div><div class="ttdeci">APath selfProcessExePath</div><div class="ttdoc">Self process exe. Typically AProcess::self()-&gt;getPathToExecutable().</div><div class="ttdef"><b>Definition</b> AUpdater.h:56</div></div>
<div class="ttc" id="astructAUpdater_1_1GetInstallationDirectoryContext_html_aab48a7435f9b549c2c1b2781cedb8cdd"><div class="ttname"><a href="structAUpdater_1_1GetInstallationDirectoryContext.html#aab48a7435f9b549c2c1b2781cedb8cdd">AUpdater::GetInstallationDirectoryContext::originExe</a></div><div class="ttdeci">APath originExe</div><div class="ttdoc">The path to executable who invoked the installation process. Typically full path to the original exe ...</div><div class="ttdef"><b>Definition</b> AUpdater.h:67</div></div>
<div class="ttc" id="astructAUpdater_1_1GetInstallationDirectoryContext_html_ae23c64b8d8effa6cedd912fc788c1390"><div class="ttname"><a href="structAUpdater_1_1GetInstallationDirectoryContext.html#ae23c64b8d8effa6cedd912fc788c1390">AUpdater::GetInstallationDirectoryContext::updaterDir</a></div><div class="ttdeci">APath updaterDir</div><div class="ttdoc">Updater dir. Typically parent of selfProcessExePath.</div><div class="ttdef"><b>Definition</b> AUpdater.h:61</div></div>
<div class="ttc" id="astructAUpdater_1_1InstallCmdline_html"><div class="ttname"><a href="structAUpdater_1_1InstallCmdline.html">AUpdater::InstallCmdline</a></div><div class="ttdoc">Data required to launch installation child process.</div><div class="ttdef"><b>Definition</b> AUpdater.h:35</div></div>
<div class="ttc" id="astructAUpdater_1_1InstallCmdline_html_a5245f05712a556b79a3152512fba8a7c"><div class="ttname"><a href="structAUpdater_1_1InstallCmdline.html#a5245f05712a556b79a3152512fba8a7c">AUpdater::InstallCmdline::installerExecutable</a></div><div class="ttdeci">APath installerExecutable</div><div class="ttdoc">Absolute path to installer executable.</div><div class="ttdef"><b>Definition</b> AUpdater.h:42</div></div>
<div class="ttc" id="astructAUpdater_1_1InstallCmdline_html_aecca1e5d847bcb18530e2912d88ec2bf"><div class="ttname"><a href="structAUpdater_1_1InstallCmdline.html#aecca1e5d847bcb18530e2912d88ec2bf">AUpdater::InstallCmdline::installerArguments</a></div><div class="ttdeci">AVector&lt; AString &gt; installerArguments</div><div class="ttdoc">Arguments passed to installer.</div><div class="ttdef"><b>Definition</b> AUpdater.h:47</div></div>
<div class="ttc" id="astructAUpdater_1_1StatusCheckingForUpdates_html"><div class="ttname"><a href="structAUpdater_1_1StatusCheckingForUpdates.html">AUpdater::StatusCheckingForUpdates</a></div><div class="ttdoc">Checking for updates.</div><div class="ttdef"><b>Definition</b> AUpdater.h:168</div></div>
<div class="ttc" id="astructAUpdater_1_1StatusDownloading_html"><div class="ttname"><a href="structAUpdater_1_1StatusDownloading.html">AUpdater::StatusDownloading</a></div><div class="ttdoc">Downloading state.</div><div class="ttdef"><b>Definition</b> AUpdater.h:173</div></div>
<div class="ttc" id="astructAUpdater_1_1StatusIdle_html"><div class="ttname"><a href="structAUpdater_1_1StatusIdle.html">AUpdater::StatusIdle</a></div><div class="ttdoc">Idling.</div><div class="ttdef"><b>Definition</b> AUpdater.h:163</div></div>
<div class="ttc" id="astructAUpdater_1_1StatusNotAvailable_html"><div class="ttname"><a href="structAUpdater_1_1StatusNotAvailable.html">AUpdater::StatusNotAvailable</a></div><div class="ttdoc">AUpdater::isAvailable() evaluated to false.</div><div class="ttdef"><b>Definition</b> AUpdater.h:181</div></div>
<div class="ttc" id="astructAUpdater_1_1StatusWaitingForApplyAndRestart_html"><div class="ttname"><a href="structAUpdater_1_1StatusWaitingForApplyAndRestart.html">AUpdater::StatusWaitingForApplyAndRestart</a></div><div class="ttdoc">Waiting to applyUpdateAndRestart call state.</div><div class="ttdef"><b>Definition</b> AUpdater.h:186</div></div>
</div><!-- fragment --><p class="footer-inner">
    © 2025 AUI Framework Contributors. Documentation contributions included herein are the copyrights of their
    respective owners. The documentation provided herein is licensed under the terms of the GNU Free Documentation
    License version 1.3 as published by the Free Software Foundation. All trademarks are property of their respective owners.
</p>
</div><div class="contents-rails-right"></div></div><!-- doc-content -->
<!-- HTML footer for doxygen 1.12.0-->
<!-- start footer part -->
</div></body>
</html>
