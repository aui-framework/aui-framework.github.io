<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="dark-mode">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.13.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AUI Framework: Packaging Your App</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_doxygen.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AUI Framework
   &#160;<span id="projectnumber">develop</span>
   </div>
   <div id="projectbrief">Cross-platform base for C++ UI apps</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md_docs_2Packaging_01Your_01App.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Packaging Your App</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Cross-platform app packaging is a large topic that involves various build systems, platform-specific tools and techniques. AUI unifies package building process while still relying on <code>CMake</code> as the central build system.</p>
<p>AUI Framework focuses on minimizing efforts for AUI-based project to produce production-ready packages as easily as possible. AUI refrains from self-promotion in placeholders and "default values"; instead it carefully uses the information about your project passed to <a class="el" href="md_docs_2aui__app.html">aui_app</a> where needed.</p>
<p><a class="el" href="md_docs_2aui__app.html">aui_app</a> is a CMake command provided by AUI that defines platform-specific technical information about your application:</p><ul>
<li>Display name</li>
<li>Icon</li>
<li>Vendor (author) information</li>
<li>Version</li>
<li>Package id (if required by target platform)</li>
<li>etc...</li>
</ul>
<p>In addition, this command populates some <code>CPACK_*</code> variables (if undefined). This approach allows you not to bother about various installation methods but also override the variables if needed. These adjustments are needed to configure the installer packages. AUI replaces installers' defaults with the information passed to <code>aui_app</code>, such as app name, id, icon, license information, authors, etc. to produce production-ready packages out of the box.</p>
<p>This guide covers various packaging techniques for all supported platforms.</p>
<dl class="section note"><dt>Note</dt><dd>This guide assumes you have already called <a class="el" href="md_docs_2aui__app.html">aui_app</a> inside your <code>CMakeLists.txt</code>.</dd></dl>
<h1><a class="anchor" id="autotoc_md141"></a>
Windows</h1>
<p>Historically, Windows has been associated with installers in the form of executable files (<code>exe</code>s) and Windows Installer files (<code>msi</code>s), often downloaded from the internet. This method can be considered unsecure.</p>
<p>Although Windows offers its official store and numerous unofficial repositories for distributing software, many developers still opt for traditional methods. This guide will cover the latter.</p>
<dl class="section note"><dt>Note</dt><dd>Guides about packaging for Windows assume you are running Windows with <a href="https://community.chocolatey.org/">Chocolatey</a> preinstalled. This way the process is easily reproducible (i.e., on a CI/CD runner).</dd></dl>
<h2><a class="anchor" id="autotoc_md142"></a>
Inno Setup</h2>
<p><a href="https://cmake.org/cmake/help/latest/cpack_gen/innosetup.html">[CMake Documentation]</a></p>
<div class="image">
<img src="innosetup.png" alt=""/>
<div class="caption">
Installer with AUI's patches applied</div></div>
<p>Inno Setup is a free installer framework for Windows program by Jordan Russell and Martijn Laan.</p>
<div class="fragment"><div class="line"><span class="comment"># install requirements</span></div>
<div class="line">choco install innosetup</div>
<div class="line"> </div>
<div class="line"><span class="comment"># standard CMake build process</span></div>
<div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake .. -DCMAKE_BUILD_TYPE=Release -DCPACK_GENERATOR=INNOSETUP</div>
<div class="line">cmake --build . --config Release</div>
<div class="line"> </div>
<div class="line"><span class="comment"># packaging</span></div>
<div class="line">cpack . -c Release</div>
</div><!-- fragment --><p>The script above produces a file <code>&lt;APP_NAME&gt;-VERSION-ARCH-setup.exe</code>, where <code>&lt;APP_NAME&gt;</code> is the <code>NAME</code> arg of <a class="el" href="md_docs_2aui__app.html">aui_app</a> (unless not overridden by <code>CPACK_PACKAGE_FILE_NAME</code>).</p>
<p><a class="el" href="md_docs_2aui__app.html">aui_app</a> populates the following INNOSETUP-related variables (if undefined):</p><ul>
<li><code>CPACK_INNOSETUP_ICON_FILE</code> <em> = <code>${_ico}</code></em> <em>(installer icon)</em></li>
<li><code>CPACK_INNOSETUP_IGNORE_LICENSE_PAGE</code> <em> = <code>ON</code></em> <em>(skips license page)</em></li>
<li><code>CPACK_INNOSETUP_IGNORE_README_PAGE</code> <em> = <code>ON</code></em> <em>(skips README page)</em></li>
<li><code>CPACK_INNOSETUP_INSTALL_ROOT</code> <em> = <code>"{userappdata}"</code></em> <em>(install To AppData)</em></li>
<li><code>CPACK_INNOSETUP_PROGRAM_MENU_FOLDER</code> <em> = <code>"."</code></em> <em>(omits menu folder)</em></li>
<li><code>CPACK_INNOSETUP_RUN_EXECUTABLES</code> <em> = <code>${_executable}</code></em> <em>(run the program after installation)</em></li>
<li><code>CPACK_INNOSETUP_SETUP_PrivilegesRequired</code> <em> = <code>"lowest"</code></em> <em>(hence we're installing to user dir, we don't need UAC)</em></li>
<li><code>CPACK_INNOSETUP_SETUP_UninstallDisplayIcon</code> <em> = <code>"{app}\\\\\\\\bin\\\\\\\\${_executable}.exe"</code></em> <em>(displays app icon in Control Panel/Settings)</em></li>
<li><code>CPACK_INNOSETUP_SETUP_WizardSmallImageFile</code> <em> = <code>${_ico}</code></em> <em>(small icon inside INNOSETUP window)</em></li>
<li><code>CPACK_PACKAGE_FILE_NAME</code> <em> = <code>${CPACK_PACKAGE_NAME}-${APP_VERSION}-${_cmake_system_processor_lower}-setup</code></em> <em>(append -setup suffix for INNOSETUP)</em></li>
<li><code>CPACK_PACKAGE_ICON</code> <em> = <code>${_ico}</code></em> <em>(app icon inside INNOSETUP window)</em></li>
</ul>
<p><a class="el" href="md_docs_2aui__app.html">aui_app</a> generates some image assets for the installer from your icon.</p>
<p>You can override these values by simply calling <code>set</code> on them. By default, in addition to branding adjustments (such as app logo and name), AUI configures INNOSETUP so the installer won't prompt a UAC dialog (leverage to <em>admin privileges</em>). This way the installation process is more secure from perspective of the end user. Moreover, installation to user's directory allows <code>aui::updater</code> to work without prompting leverage to admin privileges during update installation.</p>
<h2><a class="anchor" id="autotoc_md143"></a>
WIX</h2>
<p><a href="https://cmake.org/cmake/help/latest/cpack_gen/wix.html">[CMake Documentation]</a></p>
<div class="image">
<img src="wix.png" alt=""/>
</div>
<p>WIX is the installer framework that produces <code>msi</code> packages.</p>
<dl class="section note"><dt>Note</dt><dd>aui::updater requires application to be installed in user's directory and thus AUI's autoupdating functionality can't be used with WIX.</dd></dl>
<div class="fragment"><div class="line"><span class="comment"># install requirements</span></div>
<div class="line">choco install wixtoolset</div>
<div class="line"> </div>
<div class="line"><span class="comment"># standard CMake build process</span></div>
<div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake .. -DCMAKE_BUILD_TYPE=Release -DCPACK_GENERATOR=WIX</div>
<div class="line">cmake --build . --config Release</div>
<div class="line"> </div>
<div class="line"><span class="comment"># packaging</span></div>
<div class="line">cpack . -c Release</div>
</div><!-- fragment --><p>The script above produces a file <code>&lt;APP_NAME&gt;-VERSION-ARCH.msi</code>, where <code>&lt;APP_NAME&gt;</code> is the <code>NAME</code> arg of <a class="el" href="md_docs_2aui__app.html">aui_app</a> (unless not overridden by <code>CPACK_PACKAGE_FILE_NAME</code>).</p>
<p><a class="el" href="md_docs_2aui__app.html">aui_app</a> populates the following WIX-related variables (if undefined):</p><ul>
<li><code>CPACK_WIX_PRODUCT_ICON</code> <em> = <code>${_ico}</code></em> <em>(displays app icon in Control Panel/Settings)</em></li>
<li><code>CPACK_WIX_PROGRAM_MENU_FOLDER</code> <em> = <code>"."</code></em> <em>(omits menu folder)</em></li>
<li><code>CPACK_WIX_UI_BANNER</code> <em> = <code>${_ico}</code></em> <em>(image at top of all installer pages)</em></li>
<li><code>CPACK_WIX_UI_DIALOG</code> <em> = <code>${_ico}</code></em> <em>(background image used on the welcome and completion dialogs)</em></li>
</ul>
<p><a class="el" href="md_docs_2aui__app.html">aui_app</a> generates some image assets for the installer from your icon.</p>
<div class="image">
<img src="wix_logo.png" alt=""/>
<div class="caption">
Installer with AUI's patches applied</div></div>
<h1><a class="anchor" id="autotoc_md144"></a>
macOS</h1>
<dl class="section note"><dt>Note</dt><dd>Guides about packaging for macOS assume you are running macOS with Xcode preinstalled.</dd></dl>
<p>The simplest and the most user-friendly installation method is <code>DragNDrop</code> which you are probably looking for.</p>
<h2><a class="anchor" id="autotoc_md145"></a>
DragNDrop</h2>
<p>The DranDrop CPack generator creates a DMG image. When opened, a Finder window appears with your application and a symlink to <code>/Applications</code>, effectively prompting the user to copy the application from the medium to his app library.</p>
<p>Default DMG image produced by CPack is sparse: it's just a regular Finder window with sidebar and top bar showing your application bundle and a symlink. <a class="el" href="md_docs_2aui__app.html">aui_app</a> configures CPack to rearrange icons and place a background image so no extra configuration by a AUI-based project is needed:</p>
<div class="image">
<img src="dmg.png" alt=""/>
</div>
<div class="fragment"><div class="line"><span class="comment"># standard CMake build process</span></div>
<div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake .. -DCMAKE_BUILD_TYPE=Release -DCPACK_GENERATOR=DragNDrop</div>
<div class="line">cmake --build . --config Release</div>
<div class="line"> </div>
<div class="line"><span class="comment"># packaging</span></div>
<div class="line">cpack . -c Release</div>
</div><!-- fragment --><p><a class="el" href="md_docs_2aui__app.html">aui_app</a> populates the following DMG-related variables (if undefined):</p><ul>
<li><code>CPACK_DMG_BACKGROUND_IMAGE</code> <em> = <code>${_current_app_build_files}/dmg_background.png</code></em> <em>(sets the default DMG background)</em></li>
<li><code>CPACK_DMG_DS_STORE_SETUP_SCRIPT</code> <em> = <code>${_current_app_build_files}/dmg_ds_store_setup.scpt</code></em> <em>(rearranges icons in DMG)</em></li>
</ul>
<h1><a class="anchor" id="autotoc_md146"></a>
Android and iOS</h1>
<p>Please refer to <a class="el" href="md_docs_2Crosscompiling.html">cross-compiling</a>. </p>
</div><p class="footer-inner">
    &copy; 2025 AUI Framework Contributors. Documentation contributions included herein are the copyrights of their
    respective owners. The documentation provided herein is licensed under the terms of the GNU Free Documentation
    License version 1.3 as published by the Free Software Foundation. All trademarks are property of their respective owners.
</p>

</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.12.0-->
<!-- start footer part -->
</body>
</html>
